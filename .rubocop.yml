# inherit_from: .rubocop_todo.yml

plugins:
  - rubocop-rspec
  - rubocop-performance
  - rubocop-rake

AllCops:
  NewCops: enable
  SuggestExtensions: false
  TargetRubyVersion: 3.4
  Exclude:
    - 'vendor/**/*'
    - '_site/**/*'
    - 'node_modules/**/*'
    - 'bin/jekyll'
    - 'bin/bootstrap'
    - 'Gemfile.lock'

# Documentation - enabled for non-specs
Style/Documentation:
  Enabled: true
  Exclude:
    - 'spec/**/*'
    - 'Rakefile'
    - 'Gemfile'
    - 'scripts/*.js'

# Frozen string literal required
Style/FrozenStringLiteralComment:
  Enabled: true
  EnforcedStyle: always

# String literals - single quotes preferred
Style/StringLiterals:
  EnforcedStyle: single_quotes

# Hash syntax - modern Ruby 3.x style
Style/HashSyntax:
  EnforcedStyle: ruby19_no_mixed_keys
  EnforcedShorthandSyntax: always

# Symbol array - use %i[]
Style/SymbolArray:
  EnforcedStyle: percent

# Word array - use %w[]
Style/WordArray:
  EnforcedStyle: percent

# Block length - relaxed for specs/Rakefile
Metrics/BlockLength:
  Exclude:
    - 'spec/**/*'
    - 'Rakefile'

# Line length - 120 chars max
Layout/LineLength:
  Max: 120

# Method length - strict but reasonable
Metrics/MethodLength:
  Max: 10

# Class length
Metrics/ClassLength:
  Max: 100

# ABC size - complexity metric
Metrics/AbcSize:
  Max: 10

# Cyclomatic Complexity
Metrics/CyclomaticComplexity:
  Max: 5

# Perceived Complexity
Metrics/PerceivedComplexity:
  Max: 6

# RSpec - stricter settings
RSpec/ExampleLength:
  Max: 10

RSpec/MultipleExpectations:
  Max: 2

RSpec/NestedGroups:
  Max: 3

RSpec/DescribeClass:
  Exclude:
    - 'spec/unit/config_spec.rb'
    - 'spec/unit/data_files_spec.rb'
    - 'spec/unit/front_matter_spec.rb'
    - 'spec/unit/security_spec.rb'

# Lint - stricter
Lint/ConstantDefinitionInBlock:
  Exclude:
    - 'spec/unit/config_spec.rb'
    - 'spec/unit/front_matter_spec.rb'

RSpec/LeakyConstantDeclaration:
  Exclude:
    - 'spec/unit/config_spec.rb'
    - 'spec/unit/front_matter_spec.rb'

RSpec/MultipleDescribes:
  Exclude:
    - 'spec/unit/config_spec.rb'
    - 'spec/unit/layouts_spec.rb'

# Line endings - ignore for Windows compatibility
Layout/EndOfLine:
  Enabled: false
