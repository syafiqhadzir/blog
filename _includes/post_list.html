{%-if include.category-%}
{%-assign posts = site.categories[include.category]-%}
{%-else-%}
{%-assign posts = site.posts-%}
{%-endif-%}

{%-if include.limit and posts.size > include.limit-%}
{%-assign limit_exceeded = true-%}
{%-else-%}
{%-assign limit_exceeded = false-%}
{%-endif-%}

{%- if posts.size > 0 -%}
<ul role="list" aria-label="Blog posts">
  {%- for post in posts limit: include.limit -%}
  <li role="listitem">
    <time class="post-date" datetime="{{ post.date | date_to_xmlschema }}"
      aria-label="{{ post.date | date: site.theme_config.date_format }}">
      {{- post.date | date: site.theme_config.date_format -}}
    </time>
    <a class="post-list-title" href="{{ post.url | relative_url }}" aria-label="Read {{ post.title }}">{{ post.title }}</a>
    <span class="post-list-meta">
      {%- include reading_time.html content=post.content -%}
    </span>
  </li>
  {%- endfor -%}
  {%- if include.show_more and limit_exceeded -%}
  <li role="listitem"><a href="{{ include.show_more_url }}" aria-label="Show more posts">{{ include.show_more_text |
      default: "Show more..." }}</a></li>
  {%- endif -%}
</ul>
{%- endif -%}
