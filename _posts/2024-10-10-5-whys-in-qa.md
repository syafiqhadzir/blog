---
layout: post
title: 'The 5 Whys in QA: Interrogation Technique'
date: 2024-10-10
category: QA
slug: 5-whys-in-qa
gpgkey: EBE8 BD81 6838 1BAF
tags:
- quality-assurance
---

## Table of Contents

- [Table of Contents](#table-of-contents)
- [Introduction](#introduction)
- [TL;DR](#tldr)
- [Toddler Mode](#toddler-mode)
- [When to Stop](#when-to-stop)
- [Code Snippet: Recursive Logging](#code-snippet-recursive-logging)
- [Summary](#summary)
- [Key Takeaways](#key-takeaways)
- [Next Steps](#next-steps)

## Introduction

Sakichi Toyoda (Toyota founder) invented the "5 Whys". It is simple: Ask "Why?" five times.

By the 5th time, you usually find a broken process or a missing policy. It turns "The car won't start" into "We lack a
preventative maintenance schedule for the alternator belt". It turns "The app crashed" into "We need to update our
`.gitignore` to exclude `node_modules` from the linter".

## TL;DR

- **Depth reveals truth**: Surface answers are useless. Dig deeper.
- **Logic must connect**: Each "Why" must logically follow the previous answer. If you jump steps, you land in the wrong
  conclusion.
- **Systemic fixes are the goal**: The final answer should be a **Process Fix**, not a **Code Fix**.

## Toddler Mode

Imagine you are a 3-year-old.

Dev: "The build failed."
QA: "Why?" (1)
Dev: "Lint error."
QA: "Why?" (2)
Dev: "Dave committed bad code."
QA: "Why?" (3)
Dev: "He didn't run the linter locally."
QA: "Why?" (4)
Dev: "It takes 20 minutes to run because it scans the `dist` folder."
QA: "Why?" (5)
Dev: "Because our `.eslintignore` is misconfigured."

**Boom.** That is the root cause. Fix the config, save Dave 20 minutes, and fix the build forever. If you stopped at
"Dave committed bad code", the solution would be "Yell at Dave", which fixes nothing.

## When to Stop

Stop when you hit a process you can control.

"Why did the server crash?" -> "Solar flare."

You cannot fix the sun. But you *can* fix your "Disaster Recovery Plan" for solar flares (e.g., Multi-Region Failover).

Stop when the answer helps you prevent recurrence. If the answer is "God's will", you went too far.

## Code Snippet: Recursive Logging

Okay, you cannot code the 5 Whys, but you *can* code better logging to help answer the "Whys" when you are not there.

```javascript
/*
  logger.js
  Enriching error logs with "Why" context
*/
function logError(error, context = {}) {
  // Capture not just the error, but the State that caused it
  console.error(JSON.stringify({
    timestamp: new Date().toISOString(),
    level: 'ERROR',
    message: error.message,
    stack: error.stack,
    // Context is king
    user_id: context.user?.id,
    input_params: context.params, // WHY 1: What was the input?
    system_state: {
      memory_usage: process.memoryUsage().heapUsed, // WHY 2: Was memory full?
      uptime: process.uptime(), // WHY 3: Was a restart pending?
      active_connections: global.connectionsCount // WHY 4: Was it a DDoS?
    }
  }, null, 2));
}

// Usage
try {
  processData(req.body);
} catch (e) {
  logError(e, { user: req.user, params: req.body });
}
```

## Summary

The 5 Whys is a mindset. It stops you from being satisfied with easy answers.

It makes you annoying to talk to, but excellent at Quality Assurance. Embrace the annoying. Be the toddler.

## Key Takeaways

- **Do not jump to conclusions**: "It's a network issue" is a guess. Verify it.
- **Write it down**: The chain of logic matters. Document it in the ticket.
- **Culture enables honesty**: If people get defensive when you ask "Why", you have a culture problem ("Blame Culture"),
  not a refined process. Fix the culture first.

## Next Steps

- **Tool**: Use **Miro** or **Lucidchart** to map out the "Why" tree visually (it branches out, like a fishbone).
- **Learn**: Read about **Kaizen** (Continuous Improvement).
- **Audit**: Apply 5 Whys to your own life. "Why am I tired?" -> "Netflix." -> "Why?" -> "Procrastination." -> "Why?" ->
  "Fear of failure." (Okay, maybe do not go that deep).
