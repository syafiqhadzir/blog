#!/bin/bash
set -e

echo "ğŸš€ Bootstrapping Syafiq Hadzir Blog Development Environment..."

# Check requirements
command -v ruby >/dev/null 2>&1 || { echo >&2 "âŒ Ruby is required but not installed. Aborting."; exit 1; }
command -v node >/dev/null 2>&1 || { echo >&2 "âŒ Node.js is required but not installed. Aborting."; exit 1; }
command -v npm >/dev/null 2>&1 || { echo >&2 "âŒ npm is required but not installed. Aborting."; exit 1; }

echo "ğŸ“¦ Installing Ruby gems..."
bundle install

echo "ğŸ“¦ Installing Node dependencies..."
npm install

echo "ğŸ›¡ï¸ Setting up git hooks..."
npm run prepare

echo "âœ… Environment ready! Run 'bundle exec jekyll serve' to start."
