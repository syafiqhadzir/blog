
Randomized with seed 37176

Site Configuration
  _config.yml
    has required key: title
    has valid YAML syntax
    has required key: author
    exists
    has required key: url
    site URL
      is a valid URL format
    theme configuration
      has appearance setting
      has theme_config
    author configuration
      has author name
      has author url
    plugins
      includes essential plugins
      has plugins array

Layouts
  Required layouts
    all required layouts exist
  Layout front matter
    all layouts except default.html have front matter
  Layout content
    layouts contain content placeholder or extend default
    post.html extends default layout
    default.html includes head.html

Post Front Matter
  Post uniqueness
    has no duplicate titles
  All posts
    have valid layouts (FAILED - 1)
    have non-empty titles (FAILED - 2)
    have valid dates extractable from filename
    have valid front matter with required keys (FAILED - 3)
    have filenames matching Jekyll convention (YYYY-MM-DD-slug.md)
    exist in the _posts directory

Includes
  Required includes
    all required includes exist
  Include content
    head.html has viewport meta
    head.html includes AMP script
    head.html has meta charset

Security Configuration
  robots.txt AI blocking
    blocks major AI training bots
    has Sitemap directive
  security.txt
    exists
    has Canonical field
    expiry date is in the future
    has Contact field (RFC 9116 required)
    has Expires field (RFC 9116 required)
    is served at correct path
    has valid expiry date format
  HTTPS enforcement
    site URL uses HTTPS
  Canonical URLs
    _layouts/default.html includes canonical logic (FAILED - 4)

Data Files
  _data/menu.yml
    has entries key
    has at least one entry
    has valid YAML syntax
    exists
    menu entries
      entries with URLs have valid format
      entries with post_list have valid configuration
      each entry has a title
  All data files
    have valid YAML syntax

Accessibility (A11y)
  Includes accessibility
    back_link.html has aria-label
    menu_item.html uses list structure
    post_list.html uses semantic time element
  CSS accessibility
    head.html has focus styles
    head.html has screen reader only styles
    head.html has skip-link styles
  Layouts accessibility
    post.html has article element
    default.html has footer with contentinfo (FAILED - 5)
    home.html has navigation
    default.html has main landmark
    home.html has banner role
    default.html has skip link

Essential Files
  has robots.txt
  has CNAME
  has 404.html
  has site.webmanifest
  has offline.html
  has sw.js
  site.webmanifest
    has name
    has icons
    has valid JSON
  robots.txt
    has User-agent directive

Failures:

  1) Post Front Matter All posts have valid layouts
     Failure/Error:
       expect(VALID_LAYOUTS).to include(layout),
                                "#{post_name}: Invalid layout '#{layout}'. Must be one of: #{VALID_LAYOUTS.join(', ')}"

       2022-11-10-qa-engineers-for-seo.md: Invalid layout ''. Must be one of: post, default, page
       Diff:
       @@ -1 +1 @@
       -[nil]
       +["post", "default", "page"]
     # ./spec/unit/front_matter_spec.rb:51:in 'block (4 levels) in <top (required)>'
     # ./spec/unit/front_matter_spec.rb:46:in 'Array#each'
     # ./spec/unit/front_matter_spec.rb:46:in 'block (3 levels) in <top (required)>'

  2) Post Front Matter All posts have non-empty titles
     Failure/Error:
       expect(front_matter['title']).to be_a(String),
                                        "#{post_name}: Title must be a string"

       2022-11-10-qa-engineers-for-seo.md: Title must be a string
     # ./spec/unit/front_matter_spec.rb:38:in 'block (4 levels) in <top (required)>'
     # ./spec/unit/front_matter_spec.rb:34:in 'Array#each'
     # ./spec/unit/front_matter_spec.rb:34:in 'block (3 levels) in <top (required)>'

  3) Post Front Matter All posts have valid front matter with required keys
     Failure/Error:
       expect(front_matter).not_to be_empty,
                                   "#{post_name}: Missing or invalid front matter"

       2022-11-10-qa-engineers-for-seo.md: Missing or invalid front matter
     # ./spec/unit/front_matter_spec.rb:23:in 'block (4 levels) in <top (required)>'
     # ./spec/unit/front_matter_spec.rb:19:in 'Array#each'
     # ./spec/unit/front_matter_spec.rb:19:in 'block (3 levels) in <top (required)>'

  4) Security Configuration Canonical URLs _layouts/default.html includes canonical logic
     Failure/Error:
       expect(has_canonical).to be(true),
                                'Site should include canonical URL in head'

       Site should include canonical URL in head
     # ./spec/unit/security_spec.rb:94:in 'block (3 levels) in <top (required)>'

  5) Accessibility (A11y) Layouts accessibility default.html has footer with contentinfo
     Failure/Error:
       expect(content).to include('role="contentinfo"').or(include('<footer')),
                          'default.html should have a footer or contentinfo role'

       default.html should have a footer or contentinfo role
       Diff for (include "role=\"contentinfo\""):
       @@ -1 +1,24 @@
       -role="contentinfo"
       +<!DOCTYPE html>
       +<html ⚡ lang=en-GB>
       +{%- include head.html -%}
       +
       +<body class="{{ site.theme_config.appearance | default: 'auto' }}"
       +  [class]="uiMode ? (uiMode == 'dark' ? 'dark-theme' : 'light-theme') : '{{ site.theme_config.appearance | default: 'auto' }}'">
       +  <a href="#main-content" class="skip-link">Skip to main content</a>
       +  
       +  <div class="wrapper">
       +    {%- include navbar.html -%}
       +    
       +    <main id="main-content" class="page-content" role="main" aria-label="Main content">
       +      {{ content }}
       +    </main>
       +    
       +    {%- include footer.html -%}
       +  </div>
       +  
       +  <amp-install-serviceworker src="{{ 'sw.js' | relative_url }}" data-iframe-src="{{ 'sw-install.html' | relative_url }}"
       +    layout="nodisplay">
       +  </amp-install-serviceworker>
       +</body>
       +
       +</html>

       Diff for (include "<footer"):
       @@ -1 +1,24 @@
       -<footer
       +<!DOCTYPE html>
       +<html ⚡ lang=en-GB>
       +{%- include head.html -%}
       +
       +<body class="{{ site.theme_config.appearance | default: 'auto' }}"
       +  [class]="uiMode ? (uiMode == 'dark' ? 'dark-theme' : 'light-theme') : '{{ site.theme_config.appearance | default: 'auto' }}'">
       +  <a href="#main-content" class="skip-link">Skip to main content</a>
       +  
       +  <div class="wrapper">
       +    {%- include navbar.html -%}
       +    
       +    <main id="main-content" class="page-content" role="main" aria-label="Main content">
       +      {{ content }}
       +    </main>
       +    
       +    {%- include footer.html -%}
       +  </div>
       +  
       +  <amp-install-serviceworker src="{{ 'sw.js' | relative_url }}" data-iframe-src="{{ 'sw-install.html' | relative_url }}"
       +    layout="nodisplay">
       +  </amp-install-serviceworker>
       +</body>
       +
       +</html>
     # ./spec/unit/accessibility_spec.rb:22:in 'block (3 levels) in <top (required)>'

Finished in 0.40084 seconds (files took 0.73338 seconds to load)
69 examples, 5 failures

Failed examples:

rspec ./spec/unit/front_matter_spec.rb:45 # Post Front Matter All posts have valid layouts
rspec ./spec/unit/front_matter_spec.rb:33 # Post Front Matter All posts have non-empty titles
rspec ./spec/unit/front_matter_spec.rb:18 # Post Front Matter All posts have valid front matter with required keys
rspec ./spec/unit/security_spec.rb:89 # Security Configuration Canonical URLs _layouts/default.html includes canonical logic
rspec ./spec/unit/accessibility_spec.rb:20 # Accessibility (A11y) Layouts accessibility default.html has footer with contentinfo

Randomized with seed 37176

